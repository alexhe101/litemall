<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.litemall.dao.OrdersDao">

    <resultMap id="BaseResultMap" type="com.example.litemall.model.po.Orders">
        <!--@Table orders-->
        <result property="id" column="id" jdbcType="INTEGER"/>
        <result property="customerId" column="customer_id" jdbcType="INTEGER"/>
        <result property="shopId" column="shop_id" jdbcType="INTEGER"/>
        <result property="orderSn" column="order_sn" jdbcType="VARCHAR"/>
        <result property="pid" column="pid" jdbcType="INTEGER"/>
        <result property="consignee" column="consignee" jdbcType="VARCHAR"/>
        <result property="regionId" column="region_id" jdbcType="INTEGER"/>
        <result property="address" column="address" jdbcType="VARCHAR"/>
        <result property="mobile" column="mobile" jdbcType="VARCHAR"/>
        <result property="message" column="message" jdbcType="VARCHAR"/>
        <result property="orderType" column="order_type" jdbcType="OTHER"/>
        <result property="freightPrice" column="freight_price" jdbcType="INTEGER"/>
        <result property="couponId" column="coupon_id" jdbcType="INTEGER"/>
        <result property="couponActivityId" column="coupon_activity_id" jdbcType="INTEGER"/>
        <result property="discountPrice" column="discount_price" jdbcType="INTEGER"/>
        <result property="originPrice" column="origin_price" jdbcType="INTEGER"/>
        <result property="presaleId" column="presale_id" jdbcType="INTEGER"/>
        <result property="grouponDiscount" column="groupon_discount" jdbcType="INTEGER"/>
        <result property="rebateNum" column="rebate_num" jdbcType="INTEGER"/>
        <result property="confirmTime" column="confirm_time" jdbcType="TIMESTAMP"/>
        <result property="shipmentSn" column="shipment_sn" jdbcType="VARCHAR"/>
        <result property="state" column="state" jdbcType="OTHER"/>
        <result property="substate" column="substate" jdbcType="OTHER"/>
        <result property="beDeleted" column="be_deleted" jdbcType="OTHER"/>
        <result property="gmtCreate" column="gmt_create" jdbcType="TIMESTAMP"/>
        <result property="gmtModified" column="gmt_modified" jdbcType="TIMESTAMP"/>
        <result property="grouponId" column="groupon_id" jdbcType="INTEGER"/>
    </resultMap>

    <!--查询单个-->
    <select id="queryById" resultMap="BaseResultMap">
        select
          id, customer_id, shop_id, order_sn, pid, consignee, region_id, address, mobile, message, order_type, freight_price, coupon_id, coupon_activity_id, discount_price, origin_price, presale_id, groupon_discount, rebate_num, confirm_time, shipment_sn, state, substate, be_deleted, gmt_create, gmt_modified, groupon_id
        from order.orders
        where id = #{id}
    </select>

    <!--查询指定行数据-->
    <select id="queryAllByLimit" resultMap="BaseResultMap">
        select
          id, customer_id, shop_id, order_sn, pid, consignee, region_id, address, mobile, message, order_type, freight_price, coupon_id, coupon_activity_id, discount_price, origin_price, presale_id, groupon_discount, rebate_num, confirm_time, shipment_sn, state, substate, be_deleted, gmt_create, gmt_modified, groupon_id
        from order.orders
        limit #{offset}, #{limit}
    </select>

    <!--通过实体作为筛选条件查询-->
    <select id="queryAll" resultMap="BaseResultMap">
        select
          id, customer_id, shop_id, order_sn, pid, consignee, region_id, address, mobile, message, order_type, freight_price, coupon_id, coupon_activity_id, discount_price, origin_price, presale_id, groupon_discount, rebate_num, confirm_time, shipment_sn, state, substate, be_deleted, gmt_create, gmt_modified, groupon_id
        from order.orders
        <where>
            <if test="id != null">
                and id = #{id}
            </if>
            <if test="customerId != null">
                and customer_id = #{customerId}
            </if>
            <if test="shopId != null">
                and shop_id = #{shopId}
            </if>
            <if test="orderSn != null and orderSn != ''">
                and order_sn = #{orderSn}
            </if>
            <if test="pid != null">
                and pid = #{pid}
            </if>
            <if test="consignee != null and consignee != ''">
                and consignee = #{consignee}
            </if>
            <if test="regionId != null">
                and region_id = #{regionId}
            </if>
            <if test="address != null and address != ''">
                and address = #{address}
            </if>
            <if test="mobile != null and mobile != ''">
                and mobile = #{mobile}
            </if>
            <if test="message != null and message != ''">
                and message = #{message}
            </if>
            <if test="orderType != null">
                and order_type = #{orderType}
            </if>
            <if test="freightPrice != null">
                and freight_price = #{freightPrice}
            </if>
            <if test="couponId != null">
                and coupon_id = #{couponId}
            </if>
            <if test="couponActivityId != null">
                and coupon_activity_id = #{couponActivityId}
            </if>
            <if test="discountPrice != null">
                and discount_price = #{discountPrice}
            </if>
            <if test="originPrice != null">
                and origin_price = #{originPrice}
            </if>
            <if test="presaleId != null">
                and presale_id = #{presaleId}
            </if>
            <if test="grouponDiscount != null">
                and groupon_discount = #{grouponDiscount}
            </if>
            <if test="rebateNum != null">
                and rebate_num = #{rebateNum}
            </if>
            <if test="confirmTime != null">
                and confirm_time = #{confirmTime}
            </if>
            <if test="shipmentSn != null and shipmentSn != ''">
                and shipment_sn = #{shipmentSn}
            </if>
            <if test="state != null">
                and state = #{state}
            </if>
            <if test="substate != null">
                and substate = #{substate}
            </if>
            <if test="beDeleted != null">
                and be_deleted = #{beDeleted}
            </if>
            <if test="gmtCreate != null">
                and gmt_create = #{gmtCreate}
            </if>
            <if test="gmtModified != null">
                and gmt_modified = #{gmtModified}
            </if>
            <if test="grouponId != null">
                and groupon_id = #{grouponId}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert" keyProperty="id" useGeneratedKeys="true">
        insert into order.orders(customer_id, shop_id, order_sn, pid, consignee, region_id, address, mobile, message, order_type, freight_price, coupon_id, coupon_activity_id, discount_price, origin_price, presale_id, groupon_discount, rebate_num, confirm_time, shipment_sn, state, substate, be_deleted, gmt_create, gmt_modified, groupon_id)
        values (#{customerId}, #{shopId}, #{orderSn}, #{pid}, #{consignee}, #{regionId}, #{address}, #{mobile}, #{message}, #{orderType}, #{freightPrice}, #{couponId}, #{couponActivityId}, #{discountPrice}, #{originPrice}, #{presaleId}, #{grouponDiscount}, #{rebateNum}, #{confirmTime}, #{shipmentSn}, #{state}, #{substate}, #{beDeleted}, #{gmtCreate}, #{gmtModified}, #{grouponId})
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update order.orders
        <set>
            <if test="customerId != null">
                customer_id = #{customerId},
            </if>
            <if test="shopId != null">
                shop_id = #{shopId},
            </if>
            <if test="orderSn != null and orderSn != ''">
                order_sn = #{orderSn},
            </if>
            <if test="pid != null">
                pid = #{pid},
            </if>
            <if test="consignee != null and consignee != ''">
                consignee = #{consignee},
            </if>
            <if test="regionId != null">
                region_id = #{regionId},
            </if>
            <if test="address != null and address != ''">
                address = #{address},
            </if>
            <if test="mobile != null and mobile != ''">
                mobile = #{mobile},
            </if>
            <if test="message != null and message != ''">
                message = #{message},
            </if>
            <if test="orderType != null">
                order_type = #{orderType},
            </if>
            <if test="freightPrice != null">
                freight_price = #{freightPrice},
            </if>
            <if test="couponId != null">
                coupon_id = #{couponId},
            </if>
            <if test="couponActivityId != null">
                coupon_activity_id = #{couponActivityId},
            </if>
            <if test="discountPrice != null">
                discount_price = #{discountPrice},
            </if>
            <if test="originPrice != null">
                origin_price = #{originPrice},
            </if>
            <if test="presaleId != null">
                presale_id = #{presaleId},
            </if>
            <if test="grouponDiscount != null">
                groupon_discount = #{grouponDiscount},
            </if>
            <if test="rebateNum != null">
                rebate_num = #{rebateNum},
            </if>
            <if test="confirmTime != null">
                confirm_time = #{confirmTime},
            </if>
            <if test="shipmentSn != null and shipmentSn != ''">
                shipment_sn = #{shipmentSn},
            </if>
            <if test="state != null">
                state = #{state},
            </if>
            <if test="substate != null">
                substate = #{substate},
            </if>
            <if test="beDeleted != null">
                be_deleted = #{beDeleted},
            </if>
            <if test="gmtCreate != null">
                gmt_create = #{gmtCreate},
            </if>
            <if test="gmtModified != null">
                gmt_modified = #{gmtModified},
            </if>
            <if test="grouponId != null">
                groupon_id = #{grouponId},
            </if>
        </set>
        where id = #{id}
    </update>

    <!--通过主键删除-->
    <delete id="deleteById">
        delete from order.orders where id = #{id}
    </delete>

</mapper>